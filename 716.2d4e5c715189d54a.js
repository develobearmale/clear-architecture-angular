"use strict";(self.webpackChunkclear_architecture_angular=self.webpackChunkclear_architecture_angular||[]).push([[716],{2716:(U,m,s)=>{s.r(m),s.d(m,{DashboardModule:()=>u});var v=s(6895),b=s(6330),f=s(4006),t=s(4650),p=s(4766),g=s(529);class r{constructor(e){this.httpClient=e}getAll(){return this.httpClient.get(`${p.N.backend.dummyjson.host+p.N.backend.dummyjson.apis.users}`)}}r.\u0275fac=function(e){return new(e||r)(t.LFG(g.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"});var y=s(4004),S=s(9751),D=s(7579);class a{constructor(){this.messages=this.connect("ws://localhost:8999").pipe((0,y.U)(e=>(console.log(e.data),JSON.parse(e.data))))}connect(e){return this.subject||(this.subject=this.create(e),console.log("Successfully connected: "+e)),this.subject}create(e){console.log("url",e);let o=new WebSocket(e),d=new S.y(c=>(o.onmessage=c.next.bind(c),o.onerror=c.error.bind(c),o.onclose=c.complete.bind(c),o.close.bind(o)));return new D.u({error:null,complete:null,next:c=>{console.log("Message sent to websocket: ",c),o.readyState===WebSocket.OPEN&&o.send(JSON.stringify(c))}},d)}}a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"});class l{constructor(e,o){this.userService=e,this.websocketService=o,this.title="socketrv",this.content="",this.received=[],this.sent=[],o.messages.subscribe(d=>{this.received.push(d),console.log("Response from websocket: "+d)})}ngOnInit(){this.getDummyUsers()}getDummyUsers(){this.userService.getAll().subscribe({next:e=>{console.log("users",e)}})}sendMsg(){let e={source:"localhost",content:"asdasd"};this.sent.push(e),this.websocketService.messages.next(e)}}l.\u0275fac=function(e){return new(e||l)(t.Y36(r),t.Y36(a))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-dashboard"]],decls:3,vars:0,consts:[[3,"click"]],template:function(e,o){1&e&&(t._uU(0,"AEA - Dashboard\n"),t.TgZ(1,"button",0),t.NdJ("click",function(){return o.sendMsg()}),t._uU(2,"socketcito"),t.qZA())},styles:["app-footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%}"]});var h=s(8996);const k=[{path:"",component:l}];class i{}i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.Bz.forChild(k),h.Bz]});class u{}u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[v.ez,h.Bz,b.q,f.u5,f.UX,i]})}}]);